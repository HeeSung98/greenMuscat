<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>Document</title>
  </head>

  <body>
    <h1>프로필, 로그아웃, 공지사항 불러오기 (한 줄만), 더보기 누르기</h1>
    <button onclick="logout()">로그아웃</button><br />
    <h1>---------공지사항---------</h1>
    <form name=noticeForm">
      <label for="rNo">방넘버(임시)</label>
      <input type="text" id="rNo" /><br />
      <label for="rTitle">방제목(임시)</label>
      <input type="text" id="rTitle" /><br />
      <label for="code">코드(임시)</label>
      <input type="text" id="code" /><br />
      <label for="notice">공지사항내용</label>
      <input type="text" id="notice" /><br />
      <button type="button" onclick="noticeRegister()">게시</button>
    </form>
  </body>

  <script>
    function logout() {}


       async function noticeRegister() {
        console.log("확인")
        const form = document.forms["noticeForm"];
        const data = {
          rNo: form.rNo.value,
          rTitle: form.rTitle.value,
          code: form.code.value,
          notice: form.notice.value,
        };
        console.log(data);

        const result = await axios({
          method: "POST",
          url: "/room/notice",
          data,
        });
        if (result) {
          console.log("공지사항 등록 성공")
        } else {
          console.log("err");
        }
      }
  </script>
</html>
